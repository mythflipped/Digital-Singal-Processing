fs=8192;
%天空之城 C调
y1=gen_wave(-3,0.25,8192,1);
y2=gen_wave(-1,0.25,8192,1);
%-------------------
y3=gen_wave(1,0.75,8192,1);
y4=gen_wave(-1,0.25,8192,1);
y5=gen_wave(1,0.5,8192,1);
y6=gen_wave(5,0.5,8192,1);
%-------------------
y7=gen_wave(-1,1.5,8192,1);
y8=gen_wave(-8,0.5,8192,1);
%-------------------
y9=gen_wave(-3,0.75,8192,1);
y10=gen_wave(-5,0.25,8192,1);
y11=gen_wave(-3,0.5,8192,1);
y12=gen_wave(1,0.5,8192,1);
%-------------------
y13=gen_wave(-5,1.5,8192,1);
y14=gen_wave(-8,0.5,8192,1);
%-------------------
y15=gen_wave(-7,0.75,8192,1);
y16=gen_wave(-8,0.25,8192,1);
y17=gen_wave(-7,0.25,8192,1);
y18=gen_wave(1,0.75,8192,1);
%-------------------
y19=gen_wave(-8,0.75,8192,1);
y20=gen_wave(-1,0.5,8192,1);
%-------------------
y21=gen_wave(-1,0.75,8192,1);
y22=gen_wave(-6,0.25,8192,1);
y23=gen_wave(-6,0.5,8192,1);
y24=gen_wave(-1,0.5,8192,1);
%-------------------
y25=gen_wave(-1,1.5,8192,1);
y26=gen_wave(-3,0.25,8192,1);
y27=gen_wave(-1,0.25,8192,1);
%-------------------
y28=gen_wave(1,0.75,8192,1);
y29=gen_wave(-1,0.25,8192,1);
y30=gen_wave(1,0.5,8192,1);
y31=gen_wave(5,0.5,8192,1);
%-------------------第三行
y32=gen_wave(-1,1.5,8192,1);
y33=gen_wave(5,0.25,8192,1);
y34=gen_wave(5,0.25,8192,1);
%-------------------
y35=gen_wave(-3,0.75,8192,1);
y36=gen_wave(-5,0.25,8192,1);
y37=gen_wave(-3,0.5,8192,1);
y38=gen_wave(1,0.5,8192,1);
%-------------------
y39=gen_wave(-5,1.5,8192,1);
y40=gen_wave(-8,0.5,8192,1);
%-------------------
y41=gen_wave(-7,0.5,8192,1);
y42=gen_wave(1,0.25,8192,1);
y43=gen_wave(-1,0.75,8192,1);
y44=gen_wave(1,0.5,8192,1);
%-------------------第四行
y45=gen_wave(3,0.5,8192,1);
y46=gen_wave(5,0.25,8192,1);
y47=gen_wave(1,0.25,8192,1);
y48=gen_wave(1,0.75,8192,1);
%-------------------
y49=gen_wave(1,0.25,8192,1);
y50=gen_wave(-1,0.25,8192,1);
y51=gen_wave(-3,0.5,8192,1);
y52=gen_wave(-1,0.5,8192,1);
y53=gen_wave(-4,0.5,8192,1);
%-------------------
y54=gen_wave(-3,1.5,8192,1);
y55=gen_wave(1,0.25,8192,1);
y56=gen_wave(3,0.25,8192,1);
%-------------------
y57=gen_wave(5,0.75,8192,1);
y58=gen_wave(3,0.25,8192,1);
y59=gen_wave(5,0.5,8192,1);
y60=gen_wave(8,0.5,8192,1);
%-------------------第五行
y61=gen_wave(3,1.5,8192,1);
y62=gen_wave(-5,0.5,8192,1);
%--------------------
y63=gen_wave(1,0.75,8192,1);
y64=gen_wave(-1,0.25,8192,1);
y65=gen_wave(1,0.5,8192,1);
y66=gen_wave(3,0.25,8192,1);
y67=gen_wave(5,0.25,8192,1);
%-------------------
y68=gen_wave(5,1.5,8192,1);
%-------------------
y69=gen_wave(-8,0.25,8192,1);
y70=gen_wave(-1,0.25,8192,1);
y71=gen_wave(1,0.5,8192,1);
y72=gen_wave(-1,0.25,8192,1);
y73=gen_wave(1,0.25,8192,1);
y74=gen_wave(3,0.5,8192,1);
%-------------------第六行
y75=gen_wave(1,0.75,8192,1);
y76=gen_wave(-5,0.25,8192,1);
y77=gen_wave(-5,1,8192,1);
%-------------------
y78=gen_wave(6,0.5,8192,1);
y79=gen_wave(5,0.5,8192,1);
y80=gen_wave(3,0.5,8192,1);
y81=gen_wave(1,0.5,8192,1);
%-------------------
y82=gen_wave(5,1.5,8192,1);
y83=gen_wave(5,0.5,8192,1);
%-------------------
y84=gen_wave(10,0.75,8192,1);
y85=gen_wave(10,0.25,8192,1);
y86=gen_wave(8,0.75,8192,1);
y87=gen_wave(8,0.25,8192,1);
%-------------------第七行
y88=gen_wave(5,0.25,8192,1);
y89=gen_wave(3,0.25,8192,1);
y90=gen_wave(1,0.5,8192,1);
y91=gen_wave(1,1,8192,1);
%-------------------
y92=gen_wave(3,0.75,8192,1);
y93=gen_wave(1,0.25,8192,1);
y94=gen_wave(3,0.5,8192,1);
y95=gen_wave(8,0.5,8192,1);
%-------------------
y96=gen_wave(5,1.5,8192,1);
y97=gen_wave(5,0.5,8192,1);
%-------------------
y98=gen_wave(10,0.75,8192,1);
y99=gen_wave(10,0.25,8192,1);
y100=gen_wave(8,0.75,8192,1);
y101=gen_wave(8,0.25,8192,1);
%-------------------第八行
y102=gen_wave(5,0.25,8192,1);
y103=gen_wave(3,0.25,8192,1);
y104=gen_wave(1,0.5,8192,1);
y105=gen_wave(8,1,8192,1);
%-------------------
y106=gen_wave(3,0.75,8192,1);
y107=gen_wave(1,0.25,8192,1);
y108=gen_wave(3,0.5,8192,1);
y109=gen_wave(-1,0.5,8192,1);
%-------------------
y110=gen_wave(-3,1.5,8192,1);
y111=0;

%a=load('castle_in_the_sky.mat')
y=[y1 y2 y3 y4 y5 y6 y7 y8 y9 y10 y11 y12 y13 y14...
  y15 y16 y17 y18 y19 y20 y21 y22 y23 y24 y25 y26 y27 y28 y29 y30 y31...
  y32 y33 y34 y35 y36 y37 y38 y39 y40 y41 y42 y43 y44...
  y45 y46 y47 y48 y49 y50 y51 y52 y53 y54 y55 y56 y57 y58 y59 y60...
  y61 y62 y63 y64 y65 y66 y67 y68 y69 y70 y71 y72 y73 y74...
  y75 y76 y77 y78 y79 y80 y81 y82 y83 y84 y85 y86 y87...
  y89 y90 y91 y92 y93 y94 y95 y96 y97 y98 y99 y100 y101...
  y102 y103 y104 y105 y106 y107 y108 y109 y110 y111];

sound(y,fs)
plot(y)
audiowrite('天空之城增加谐波后2.wav',y,fs);